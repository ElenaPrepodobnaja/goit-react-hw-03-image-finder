(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{29:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},81:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(4),o=n.n(c),l=(n(29),n(11)),i=n(5),s=n(6),u=n(8),d=n(7),h=(n(9),n(12)),p=n(22),b=n.n(p),f=(n(50),n(1));function g(){return Object(f.jsx)(b.a,{className:"Loader App-logo",type:"Circles",color:"#00BFFF",height:300,width:300,timeout:3e3})}n(52),n(53);var m=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={query:""},e.handleChange=function(t){e.setState({query:t.currentTarget.value.trim()})},e.handleSubmit=function(t){var n=e.state.query;t.preventDefault(),e.props.onSubmit(n),e.setState({query:""})},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state.query;return Object(f.jsx)("header",{className:"Searchbar",children:Object(f.jsxs)("form",{className:"SearchForm",onSubmit:this.handleSubmit,children:[Object(f.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(f.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(f.jsx)("input",{value:e,className:"SearchForm-input",name:"form_input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.handleChange})]})})}}]),n}(r.Component);n(54);function j(e){var t=e.onClick;return Object(f.jsx)("button",{type:"button",className:"Button",onClick:t,children:"Load more"})}var O=n(23),y=n.n(O),v=n(2),x=n.n(v),w=function(e,t){return y.a.get("".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("22622194-9ff4545401c35c3e57910f120","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))};w.propTypes={query:x.a.string.isRequired,currentPage:x.a.number.isRequired};var C=w,k=(n(73),n(74),Object(r.createContext)());n(75);function S(e){var t=e.gallery;return Object(f.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){return function(e){var t=e.id,n=e.webformatURL,r=e.largeImageURL,a=e.previewURL;return Object(f.jsx)("li",{className:"ImageGalleryItem",children:Object(f.jsx)(k.Consumer,{children:function(e){return Object(f.jsx)("img",{src:a,"data-src":n,alt:"searchedPicture","data-large":r,className:"ImageGalleryItem-image lazyload blur-up",onClick:e})}})},"id-".concat(t))}(e)}))})}n(76);function L(e){var t=e.children;return Object(f.jsx)("div",{className:"Section",children:t})}n(77);var I=n(13),P=n(24),N=(n(78),["children","onClick"]),M=function(e){var t=e.children,n=e.onClick,r=Object(P.a)(e,N);return Object(f.jsx)("button",Object(I.a)(Object(I.a)({type:"button",className:"IconButton",onClick:n},r),{},{children:t}))};M.defaultProps={onClick:function(){return null},children:null};var F,B=M,_=["title","titleId"];function q(){return(q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function U(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function E(e,t){var n=e.title,a=e.titleId,c=U(e,_);return r.createElement("svg",q({height:"512px",id:"Layer_1",style:{enableBackground:"new 0 0 512 512"},viewBox:"0 0 512 512",width:"512px",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,F||(F=r.createElement("path",{d:"M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4  L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1  c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1  c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z"})))}var R=r.forwardRef(E),D=(n.p,document.querySelector("#modal-root")),T=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handelBackdropClick=function(t){t.target===t.currentTarget&&e.props.onClose()},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(c.createPortal)(Object(f.jsx)("div",{className:"Modal__backdrop",onClick:this.handelBackdropClick,children:Object(f.jsxs)("div",{className:"Modal__content",children:[Object(f.jsx)(B,{className:"Modal__close IconButton","aria-label":"Close Modal icon",onClick:this.props.onClose,children:Object(f.jsx)(R,{width:"32",height:"32",fill:"#black"})}),this.props.children]})}),D)}}]),n}(r.Component);n(79);function A(){return Object(f.jsx)("div",{className:"emptyField",children:Object(f.jsx)("h2",{className:"emptyField__text",children:"It's so empty, enter some request and enjoy hundreds of pictures!"})})}var z=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={gallery:[],currentPage:1,isLoading:!1,search:"",error:null,selectedImgURL:"",selectedLowQImgUrl:"",isModalOpen:!1},e.fetchPictures=function(){var t=e.state,n=t.search,r=t.currentPage;e.setState({isLoading:!0}),C(n,r).then((function(t){e.setState((function(e){return{gallery:[].concat(Object(l.a)(e.gallery),Object(l.a)(t)),currentPage:e.currentPage+1}}))})).catch((function(t){return e.setState({error:t})})).finally((function(){e.onLoadMoreBtnClick(),e.setState({isLoading:!1})}))},e.handleSubmit=function(t){if(t!==e.state.search&&e.setState({gallery:[],search:t,currentPage:1,error:null}),t);else{h.b.info("\ud83d\ude80 Search field is empty!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!1,draggable:!0,progress:void 0})}},e.onLoadMoreBtnClick=function(){if(e.state.currentPage>2){var t={top:null,behavior:"smooth"};t.top=window.pageYOffset+document.documentElement.clientHeight,setTimeout((function(){window.scrollTo(t)}),1e3)}},e.hadleImageClick=function(t){if("IMG"===t.target.nodeName){t.preventDefault();var n=t.target.getAttribute("data-large"),r=t.target.getAttribute("src");e.setState({selectedImgURL:n,selectedLowQImgUrl:r,isModalOpen:!0})}},e.toggleModal=function(){e.setState({isModalOpen:!e.state.isModalOpen}),e.state.isModalOpen&&(document.body.style.overflowY="hidden")},e}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e,t){t.search!==this.state.search&&this.fetchPictures()}},{key:"render",value:function(){var e=this.state,t=e.search,n=e.gallery,r=e.isLoading,a=e.selectedImgURL,c=e.isModalOpen,o=e.selectedLowQImgUrl;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(m,{onSubmit:this.handleSubmit}),0===n.length&&Object(f.jsx)(A,{}),Object(f.jsx)(h.a,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,draggablePercent:60}),r&&Object(f.jsx)(L,{children:Object(f.jsx)(g,{})}),Object(f.jsx)(k.Provider,{value:this.hadleImageClick,children:t&&Object(f.jsx)(S,{gallery:n})}),c&&Object(f.jsx)(T,{onClose:this.toggleModal,children:Object(f.jsx)("img",{src:o,"data-src":a,alt:"fullsizeImage",className:"lazyload blur-up"})}),Object(f.jsx)(L,{children:t&&n.length>11&&Object(f.jsx)(j,{onClick:this.fetchPictures})})]})}}]),n}(r.Component),G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,82)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};n(80);o.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(z,{})}),document.getElementById("root")),G()}},[[81,1,2]]]);
//# sourceMappingURL=main.68519153.chunk.js.map